{"ast":null,"code":"import _objectSpread from \"/Users/evik/Documents/GitHub/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/evik/Documents/GitHub/frontend/src/StudentsDetails.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Auth from './AuthService';\nimport AddNewProject from './AddNewProject';\nexport default class StudentsDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.postProject = project => {\n      console.log('postProject', project);\n      Auth.fetch(\"/projects\", {\n        method: 'POST',\n        body: JSON.stringify(project)\n      }).then(response => {\n        return Auth.fetch(\"/projects/\".concat(response.id), {\n          method: 'GET'\n        });\n      }).then(response => {\n        console.log(response);\n        const student = this.state.student;\n        this.setState({\n          student: _objectSpread({}, student, {\n            project: (student.project || []).concat(response.data)\n          })\n        });\n      }).catch(error => {\n        console.error('Server Error', error);\n      });\n    };\n\n    this.state = {\n      student: null\n    };\n  }\n\n  componentDidMount() {\n    console.log('componentDidMount');\n    Auth.fetch(\"/students/\".concat(this.props.student_id), {\n      method: 'GET'\n    }).then(response => {\n      console.log(response);\n      this.setState(() => ({\n        student: response\n      }));\n    }).catch(error => {\n      console.error('Server Error', error);\n    });\n  }\n\n  render() {\n    const student = this.state.student;\n    if (student == null) return null;\n    return React.createElement(\"div\", {\n      className: \"second\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Student\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Student name \", student.firstname, \" \", student.lastname), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Email \", student.email), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Projects \", (student.project || []).map(project => React.createElement(\"div\", {\n      key: project.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, project.project_name))), React.createElement(Link, {\n      className: \"home-button\",\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Home\"), React.createElement(AddNewProject, {\n      postProject: this.postProject,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/evik/Documents/GitHub/frontend/src/StudentsDetails.js"],"names":["React","Component","Link","Auth","AddNewProject","StudentsDetails","constructor","props","postProject","project","console","log","fetch","method","body","JSON","stringify","then","response","id","student","state","setState","concat","data","catch","error","componentDidMount","student_id","render","firstname","lastname","email","map","project_name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Auth from './AuthService';\nimport AddNewProject from './AddNewProject';\n\nexport default class StudentsDetails extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n          student: null,\n        };\n      }\n    \n    componentDidMount () {\n        console.log('componentDidMount')\n        Auth.fetch (`/students/${this.props.student_id}`, {\n            method: 'GET',\n        })\n          .then(response => {\n            console.log(response);\n            this.setState(() => ({ student: response }));\n       })\n       .catch(error => {\n         console.error('Server Error', error);\n       }); \n    }\n\n    postProject = (project) => { \n        console.log('postProject', project);\n        Auth.fetch (`/projects`, {\n          method: 'POST',\n          body: JSON.stringify(project)\n      })\n        .then (response => {\n            return Auth.fetch(`/projects/${response.id}`,{\n                method: 'GET'\n            })\n        })\n        .then(response => {\n          console.log(response);\n          const student = this.state.student\n          this.setState({\n            student: {\n                ...student, \n                project: (student.project || []).concat(response.data)\n            }\n          })\n        })\n        .catch(error => {\n            console.error('Server Error', error);\n          }); \n    }\n\n    render() {\n        const student = this.state.student\n       if (student == null) \n           return null;\n      return (\n          <div className=\"second\">\n        <div className=\"Student\">\n         <h3>Student name {student.firstname} {student.lastname}</h3>\n         <p>Email {student.email}</p>\n         <p>Projects {(student.project ||[]).map(project => (\n                     <div key={project.id}>\n                             {project.project_name}\n                     </div>)) \n            }\n        </p>\n        <Link  className=\"home-button\" to=\"/\">Home</Link>\n        <AddNewProject\n        postProject={this.postProject}/>\n        </div>\n        </div>\n      )   \n    }\n}\n  \n        \n        "]},"metadata":{},"sourceType":"module"}